{biffweb-com-post
 {:cached nil,
  :request-time 703,
  :repeatable? false,
  :protocol-version {:name "HTTP", :major 1, :minor 1},
  :streaming? true,
  :chunked? true,
  :reason-phrase "OK",
  :headers
  {"server" "Netlify",
   "age" "0",
   "cache-status" "\"Netlify Edge\"; fwd=miss",
   "content-type" "text/html; charset=UTF-8",
   "strict-transport-security" "max-age=31536000",
   "connection" "close",
   "x-nf-request-id" "01KDSKFXA6D9XQXJQYW7RD3ZY8",
   "transfer-encoding" "chunked",
   "accept-ranges" "bytes",
   "etag" "\"a139d253212959657dc38342da82cafc-ssl-df\"",
   "date" "Wed, 31 Dec 2025 07:03:25 GMT",
   "vary" "Accept-Encoding",
   "cache-control" "public,max-age=0,must-revalidate"},
  :orig-content-encoding "gzip",
  :status 200,
  :length -1,
  :body
  "<!DOCTYPE html>\n<html lang=\"en-US\" style=\"min-height: 100%;\n  height: auto;\"><head><title>Biff support for XTDB v2 is in pre-release</title><meta charset=\"UTF-8\" /><meta name=\"description\" content=\"The time is at hand\" /><meta content=\"Biff support for XTDB v2 is in pre-release\" property=\"og:title\" /><meta content=\"The time is at hand\" property=\"og:description\" /><meta content=\"summary_large_image\" name=\"twitter:card\" /><meta content=\"https://biffweb.com/cards/xtdb2-prerelease.png\" name=\"twitter:image\" /><meta content=\"https://biffweb.com/cards/xtdb2-prerelease.png\" property=\"og:image\" /><meta content=\"https://biffweb.com/p/xtdb2-prerelease/\" property=\"og:url\" /><link ref=\"canonical\" href=\"https://biffweb.com/p/xtdb2-prerelease/\" /><meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /><meta charset=\"utf-8\" /><link href=\"/feed.xml\" title=\"Feed for Biff\" type=\"application/atom+xml\" rel=\"alternate\" /><link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/apple-touch-icon.png\" /><link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/favicon-32x32.png\" /><link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/favicon-16x16.png\" /><link rel=\"manifest\" href=\"/site.webmanifest\" /><link rel=\"mask-icon\" href=\"/safari-pinned-tab.svg\" color=\"#5bbad5\" /><meta name=\"msapplication-TileColor\" content=\"#da532c\" /><meta name=\"theme-color\" content=\"#ffffff\" /><script src=\"/vendor/unpkg.com/hyperscript.org@0.9.3.js\"></script><script src=\"https://www.google.com/recaptcha/api.js\" async=\"async\" defer=\"defer\"></script><link href=\"https://fonts.googleapis.com\" rel=\"preconnect\" /><link crossorigin=\"crossorigin\" href=\"https://fonts.gstatic.com\" rel=\"preconnect\" /><link href=\"https://fonts.googleapis.com/css2?display=swap&amp;family=Roboto+Slab:wght@700&amp;family=Roboto:wght@500\" rel=\"stylesheet\" /><link rel=\"stylesheet\" href=\"/css/prism.css\" /><link rel=\"stylesheet\" href=\"/vendor/cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css\" /><script src=\"/js/prism.js\"></script><link rel=\"stylesheet\" href=\"/css/main.css\" /></head><body style=\"position: absolute;\n  width: 100%;\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\"><div class=\"grow flex flex-col bg-stone-200\"><div class=\"py-4\"><div class=\"flex max-sm:flex-col items-center gap-4 text-lg px-3 justify-between mx-auto max-w-prose\"><div><a href=\"/\"><img src=\"https://cdn.findka.com/biff-logo-new.svg\" alt=\"Biff\" class=\"max-h-[30px] opacity-90\" /></a></div><div class=\"flex gap-4 flex-wrap\"><a class=\"font-semibold uppercase border-b-2 text-stone-800 border-stone-700 hover:text-indigo-700 hover:border-indigo-700 text-sm sm:pt-1\" href=\"/\">Home</a><a class=\"font-semibold uppercase border-b-2 text-stone-800 border-stone-700 hover:text-indigo-700 hover:border-indigo-700 text-sm sm:pt-1\" href=\"/docs/get-started/intro/\">Docs</a><a class=\"font-semibold uppercase border-b-2 text-stone-800 border-stone-700 hover:text-indigo-700 hover:border-indigo-700 text-sm sm:pt-1\" href=\"/newsletter/\">News</a><a class=\"font-semibold uppercase border-b-2 text-stone-800 border-stone-700 hover:text-indigo-700 hover:border-indigo-700 text-sm sm:pt-1\" href=\"https://github.com/jacobobryant/biff\">GitHub</a></div></div></div><div class=\"mx-auto sm:px-3 py-3 text-lg flex-grow w-full max-w-prose\"><div class=\"bg-white p-4 markdown-body\"><h1>Biff support for XTDB v2 is in pre-release</h1><p class=\"text-sm\"><a href=\"https://obryant.dev\">Jacob O'Bryant</a> | 9 Nov 2025</p><div class=\"h-2\"></div><div><p>I've been working on/preparing for migrating Biff to XTDB v2 since that <a href=\"https://xtdb.com/blog/launching-xtdb-v2\">became generally\navailable</a> in June. After investigating the deployment\noptions and performance characteristics, I've added some XTDB v2 helper functions to the Biff\nlibrary (under a new <code>com.biffweb.experimental</code> namespace) and I've made a version of the starter\nproject that uses XTDB v2.</p>\n<p>You can create a new XTDB v2 Biff project by running <code>clj -M -e '(load-string (slurp &quot;https://biffweb.com/new.clj&quot;))' -M xtdb2</code>. See <a href=\"https://gist.github.com/jacobobryant/7c2853f2fa391d8d30f19f363709ffc5\">this\ngist</a> for a diff between the\nold/main starter project and this new one.</p>\n<p>To give you a quick overview of what Biff provides:</p>\n<ul>\n<li>There are <code>use-xtdb2</code> and <code>use-xtdb2-listener</code> components, roughly the same as we have already for\nXTDB v1.</li>\n<li>The <code>ctx</code> map will have a <code>:biff/conn</code> key in it (a Hikari connection pool object) which you can\npass to <code>xtdb.api/q</code> to do queries.</li>\n<li>There is no longer a custom Biff transaction format. There is still a lightweight wrapper\nfunction, <code>com.biffweb.experimental/submit-tx</code>, which will apply Malli validation to any\n<code>:put-docs</code> / <code>:patch-docs</code> operations.</li>\n</ul>\n<p>There's still plenty of work to do before XTDB v2 support in Biff is officially released and becomes\nthe default:</p>\n<ul>\n<li>Next up, I'm migrating <a href=\"https://github.com/jacobobryant/yakread\">Yakread</a> to XTDB v2. This will\nhelp me find any more issues that need to be addressed/make sure that Biff is indeed ready for\nXTDB v2.</li>\n<li>After that I need to update a bunch of documentation, including the tutorial project.</li>\n</ul>\n<p>Since those next two steps will take a while, I wanted to do this &quot;pre-release&quot; for anyone who would\nlike to get a head start on trying out Biff with XTDB v2. If you do so, let me know whatever\nquestions/comments you have. Just note that the new functions in Biff's API are still experimental\nand might have breaking changes before I do the official release.</p>\n<p>And for anyone who would rather not deal with migrating an existing app, Biff will still support\nXTDB v1. It's totally fine to stay on that.</p>\n<p>Finally: I'll be at Clojure/Conj next week, at least if my flight doesn't get canceled. Come say hi.</p>\n</div></div></div><div class=\"flex flex-col items-center text-center px-3\"><div class=\"h-5\"></div><div class=\"font-bold\">Sign up for Biff: The Newsletter</div><div> Announcements, blog posts,  <span class=\"italic\">et cetera et cetera</span>.</div><div class=\"h-5\"></div><script>function onSubscribe(token) { document.getElementById('recaptcha-form').submit(); }</script><form action=\"/.netlify/functions/subscribe\" method=\"POST\" id=\"recaptcha-form\" class=\"w-full max-w-md\"><input type=\"hidden\" name=\"href\" _=\"on load set my value to window.location.href\" /><input type=\"hidden\" name=\"referrer\" _=\"on load set my value to document.referrer\" /><div class=\"flex flex-col sm:flex-row gap-2\"><input class=\"rounded shadow border-stone-300 focus:ring-indigo-700 focus:border-indigo-700 flex-grow text-black\" type=\"email\" name=\"email\" placeholder=\"Enter your email\" _=\"on load make a URLSearchParams from window.location.search called p then set my value to p.get('email')\" /><button class=\"bg-indigo-700 hover:bg-indigo-600 text-white py-2 px-4 rounded shadow g-recaptcha\" data-sitekey=\"6Ld_WsEiAAAAAIU1RSSJcQTicXe98SZwqsf9xOlq\" data-callback=\"onSubscribe\" data-action=\"subscribe\" type=\"submit\">Subscribe</button></div><div _=\"on load if window.location.search.includes('error=invalid-email') remove .hidden from me\" class=\"text-black hidden font-semibold mt-1\">It looks like that email is invalid. Try a different one.</div><div _=\"on load if window.location.search.includes('error=recaptcha-failed') remove .hidden from me\" class=\"text-black hidden font-semibold mt-1\">reCAPTCHA check failed. Try again.</div><div _=\"on load if window.location.search.includes('error=unknown') remove .hidden from me\" class=\"text-black hidden font-semibold mt-1\">There was an unexpected error. Try again.</div><div class=\"h-3\"></div><div class=\"text-center\"><a href=\"/feed.xml\" class=\"text-black hover:text-indigo-700 underline\">RSS feed</a><span class=\"w-4 inline-block\"> Â· </span><a href=\"/newsletter/\" class=\"text-black hover:text-indigo-700 underline\">Archive</a></div></form><div class=\"h-12\"></div><div class=\"sm:text-center text-sm leading-snug opacity-75 w-full mb-3\"><span>This site is protected by reCAPTCHA and the Google <a href=\"https://policies.google.com/privacy\" target=\"_blank\" class=\"underline\">Privacy Policy</a> and <a href=\"https://policies.google.com/terms\" target=\"_blank\" class=\"underline\">Terms of Service</a> apply.</span></div></div></div><script defer data-domain=\"biffweb.com\" src=\"https://pl.tfos.co/js/script.js\"></script></body></html>",
  :trace-redirects []}}
